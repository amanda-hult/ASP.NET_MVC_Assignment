@model UserModel

<div class="surface-20">
    @* <div class="align-right"> *@
    @*     <i class="fa-regular fa-ellipsis cursor" data-modal="true" data-target="#editMemberModal"></i> *@
    @* </div> *@

    <button class="fa-regular fa-ellipsis cursor align-right"
            type="button"
            data-modal="true"
            data-target="#editMemberModal"
            data-id="@Model.Id"
            data-image="@Model.UserImageUrl"
            data-firstname="@Model.FirstName"
            data-lastname="@Model.LastName"
            data-email="@Model.Email"
            data-phone="@Model.Phone"
            data-jobtitle="@Model.JobTitle"
            data-streetname="@Model.Address?.StreetName"
            data-streetnumber="@Model.Address?.StreetNumber"
            data-postalcode="@Model.Address?.PostalCode"
            data-city="@Model.Address?.City"
            data-day="@Model.DayOfBirth"
            data-month="@Model.MonthOfBirth"
            data-year="@Model.YearOfBirth">
        </button>

    <div class="project-form-container text-center">

        <div class="image-container circle">
            <img id="image-preview" src="@Model.UserImageUrl" />
        </div>

        <h4>@Model.FirstName @Model.LastName</h4>
        <p class="job-title-container">@Model.JobTitle</p>
        <p class="mt-4">@Model.Email</p>
        <p class="mt-4">@Model.Phone</p>
        <button class="button btn-message btn-gray mt-4">Message</button>
    </div>
</div>


<script>
    document.addEventListener('DOMContentLoaded', () => {
        const editBtns = document.querySelectorAll('[data-target="#editMemberModal"]')
        const editMemberModal = document.getElementById('editMemberModal')

        editBtns.forEach(btn => {
            btn.addEventListener('click', () => {

                const editMemberId = editMemberModal.querySelector('[name="Id"]')

                const editMemberImagePreviewContainer = editMemberModal.querySelector('.image-preview-container')
                const editMemberImagePreview = editMemberModal.querySelector('#image-preview-edit-member-modal')

                const editMemberFirstName = editMemberModal.querySelector('[name="FirstName"]')
                const editMemberLastName = editMemberModal.querySelector('[name="LastName"]')
                const editMemberEmail = editMemberModal.querySelector('[name="Email"]')
                const editMemberPhone = editMemberModal.querySelector('[name="Phone"]')
                const editMemberJobTitle = editMemberModal.querySelector('[name="JobTitle"]')
                const editMemberStreetName = editMemberModal.querySelector('[name="Address.StreetName"]')
                const editMemberStreetNumber = editMemberModal.querySelector('[name="Address.StreetNumber"]')
                const editMemberPostalCode = editMemberModal.querySelector('[name="Address.PostalCode"]')
                const editMemberCity = editMemberModal.querySelector('[name="Address.City"]')
                const editMemberSelectedDay = editMemberModal.querySelector('[name="SelectedDay"]')
                const editMemberSelectedMonth = editMemberModal.querySelector('[name="SelectedMonth"]')
                const editMemberSelectedYear = editMemberModal.querySelector('[name="SelectedYear"]')

                editMemberImagePreview.classList.remove('d-none')
                editMemberImagePreviewContainer.classList.add('selected')

                editMemberId.value = btn.dataset.id || ''
                editMemberImagePreview.src = btn.dataset.image || ''
                editMemberFirstName.value = btn.dataset.firstname || ''
                editMemberLastName.value = btn.dataset.lastname || ''
                editMemberEmail.value = btn.dataset.email || ''
                editMemberPhone.value = btn.dataset.phone || ''
                editMemberJobTitle.value = btn.dataset.jobtitle || ''
                editMemberStreetName.value = btn.dataset.streetname || ''
                editMemberStreetNumber.value = btn.dataset.streetnumber || ''
                editMemberPostalCode.value = btn.dataset.postalcode || ''
                editMemberCity.value = btn.dataset.city || ''
                editMemberSelectedDay.value = btn.dataset.day || ''
                editMemberSelectedMonth.value = btn.dataset.month || ''
                editMemberSelectedYear.value = btn.dataset.year || ''

            })
        })
    })
</script>